<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ME 405 Term Project: positioncontrol.PositionControlTask Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ME 405 Term Project
   </div>
   <div id="projectbrief">Authors: Wyatt Conner, Jameson Spitz, Jacob Wong</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classpositioncontrol_1_1_position_control_task.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classpositioncontrol_1_1_position_control_task-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">positioncontrol.PositionControlTask Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This class contains the methods to create a feed back control system using a motor and encoder.  
 <a href="classpositioncontrol_1_1_position_control_task.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aec5d1ade24b58d4cec935608b18c99e3"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpositioncontrol_1_1_position_control_task.html#aec5d1ade24b58d4cec935608b18c99e3">__init__</a> (self, <a class="el" href="classpositioncontrol_1_1_position_control_task.html#ae082b6d9d7e7b6bbab310a87e68601e1">Motor</a>, <a class="el" href="classpositioncontrol_1_1_position_control_task.html#a2891da38029f6534360899c118205df9">Encoder</a>, <a class="el" href="classpositioncontrol_1_1_position_control_task.html#a572e51953bfe16d9d5b5590861a92557">error</a>, <a class="el" href="classpositioncontrol_1_1_position_control_task.html#a89ac799f3e03664d1116f5afdf406933">set_point</a>, <a class="el" href="classpositioncontrol_1_1_position_control_task.html#a77617fb535bbbb50d8065f5142da6f25">gain</a>)</td></tr>
<tr class="memdesc:aec5d1ade24b58d4cec935608b18c99e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method initializes the position control object so we can create multiple objects for various encoder motor systems.  <a href="classpositioncontrol_1_1_position_control_task.html#aec5d1ade24b58d4cec935608b18c99e3">More...</a><br /></td></tr>
<tr class="separator:aec5d1ade24b58d4cec935608b18c99e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89ac799f3e03664d1116f5afdf406933"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpositioncontrol_1_1_position_control_task.html#a89ac799f3e03664d1116f5afdf406933">set_point</a> (self)</td></tr>
<tr class="memdesc:a89ac799f3e03664d1116f5afdf406933"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method is used to set the desired position of the encoder for the motor to achieve, this is the input to our control system.  <a href="classpositioncontrol_1_1_position_control_task.html#a89ac799f3e03664d1116f5afdf406933">More...</a><br /></td></tr>
<tr class="separator:a89ac799f3e03664d1116f5afdf406933"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64f18f6c7ace2f2b0c03a1b1689dc8bf"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpositioncontrol_1_1_position_control_task.html#a64f18f6c7ace2f2b0c03a1b1689dc8bf">set_gain</a> (self)</td></tr>
<tr class="memdesc:a64f18f6c7ace2f2b0c03a1b1689dc8bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method is used to set the gain of the porportional controller for the position controller.  <a href="classpositioncontrol_1_1_position_control_task.html#a64f18f6c7ace2f2b0c03a1b1689dc8bf">More...</a><br /></td></tr>
<tr class="separator:a64f18f6c7ace2f2b0c03a1b1689dc8bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0314ed60a2a83608cab7fa63e56eb67d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpositioncontrol_1_1_position_control_task.html#a0314ed60a2a83608cab7fa63e56eb67d">position_control</a> (self)</td></tr>
<tr class="memdesc:a0314ed60a2a83608cab7fa63e56eb67d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method used in an external loop from the task scheduler to control the motor and encoder pair for the desired location.  <a href="classpositioncontrol_1_1_position_control_task.html#a0314ed60a2a83608cab7fa63e56eb67d">More...</a><br /></td></tr>
<tr class="separator:a0314ed60a2a83608cab7fa63e56eb67d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83b831cdf60672f28d34fbaa634c46ca"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpositioncontrol_1_1_position_control_task.html#a83b831cdf60672f28d34fbaa634c46ca">check_error</a> (self)</td></tr>
<tr class="memdesc:a83b831cdf60672f28d34fbaa634c46ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method checks that our error in units of ticks is within reasonable limit.  <a href="classpositioncontrol_1_1_position_control_task.html#a83b831cdf60672f28d34fbaa634c46ca">More...</a><br /></td></tr>
<tr class="separator:a83b831cdf60672f28d34fbaa634c46ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ae082b6d9d7e7b6bbab310a87e68601e1"><td class="memItemLeft" align="right" valign="top"><a id="ae082b6d9d7e7b6bbab310a87e68601e1" name="ae082b6d9d7e7b6bbab310a87e68601e1"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Motor</b></td></tr>
<tr class="memdesc:ae082b6d9d7e7b6bbab310a87e68601e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">This variable passes the motor object into the position control object. <br /></td></tr>
<tr class="separator:ae082b6d9d7e7b6bbab310a87e68601e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2891da38029f6534360899c118205df9"><td class="memItemLeft" align="right" valign="top"><a id="a2891da38029f6534360899c118205df9" name="a2891da38029f6534360899c118205df9"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Encoder</b></td></tr>
<tr class="memdesc:a2891da38029f6534360899c118205df9"><td class="mdescLeft">&#160;</td><td class="mdescRight">This variable passes the encoder object into the position control object. <br /></td></tr>
<tr class="separator:a2891da38029f6534360899c118205df9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77617fb535bbbb50d8065f5142da6f25"><td class="memItemLeft" align="right" valign="top"><a id="a77617fb535bbbb50d8065f5142da6f25" name="a77617fb535bbbb50d8065f5142da6f25"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>gain</b></td></tr>
<tr class="memdesc:a77617fb535bbbb50d8065f5142da6f25"><td class="mdescLeft">&#160;</td><td class="mdescRight">This initilizing our controllers gain as zero as it will be referenced for other methods. <br /></td></tr>
<tr class="separator:a77617fb535bbbb50d8065f5142da6f25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47e5eca25dc8936b9cbac7c68e821241"><td class="memItemLeft" align="right" valign="top"><a id="a47e5eca25dc8936b9cbac7c68e821241" name="a47e5eca25dc8936b9cbac7c68e821241"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>setpoint</b></td></tr>
<tr class="memdesc:a47e5eca25dc8936b9cbac7c68e821241"><td class="mdescLeft">&#160;</td><td class="mdescRight">This initilizes the desired position we want the motor to achieve. <br /></td></tr>
<tr class="separator:a47e5eca25dc8936b9cbac7c68e821241"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a572e51953bfe16d9d5b5590861a92557"><td class="memItemLeft" align="right" valign="top"><a id="a572e51953bfe16d9d5b5590861a92557" name="a572e51953bfe16d9d5b5590861a92557"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>error</b></td></tr>
<tr class="memdesc:a572e51953bfe16d9d5b5590861a92557"><td class="mdescLeft">&#160;</td><td class="mdescRight">This initilizes the error variable to represent the difference of position to our actual position. <br /></td></tr>
<tr class="separator:a572e51953bfe16d9d5b5590861a92557"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7fbfdaff70eaa0065c94f2d28ec0bc2"><td class="memItemLeft" align="right" valign="top"><a id="ab7fbfdaff70eaa0065c94f2d28ec0bc2" name="ab7fbfdaff70eaa0065c94f2d28ec0bc2"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>position</b></td></tr>
<tr class="memdesc:ab7fbfdaff70eaa0065c94f2d28ec0bc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">This variable is used to store the ticks value of the encoder. <br /></td></tr>
<tr class="separator:ab7fbfdaff70eaa0065c94f2d28ec0bc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cbe2bec76ff5ef56fd929ec523220cd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpositioncontrol_1_1_position_control_task.html#a8cbe2bec76ff5ef56fd929ec523220cd">duty</a></td></tr>
<tr class="memdesc:a8cbe2bec76ff5ef56fd929ec523220cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Edit with zeroing function.  <a href="classpositioncontrol_1_1_position_control_task.html#a8cbe2bec76ff5ef56fd929ec523220cd">More...</a><br /></td></tr>
<tr class="separator:a8cbe2bec76ff5ef56fd929ec523220cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >This class contains the methods to create a feed back control system using a motor and encoder. </p>
<p >the motor is acting as the the plant of the system and the encoder is the sensor of the system. This class has the methods to actually complete this by checking the position and updating the error of the system and calculating the new data of the sy </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aec5d1ade24b58d4cec935608b18c99e3" name="aec5d1ade24b58d4cec935608b18c99e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec5d1ade24b58d4cec935608b18c99e3">&#9670;&nbsp;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def positioncontrol.PositionControlTask.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Motor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Encoder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>error</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>set_point</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>gain</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method initializes the position control object so we can create multiple objects for various encoder motor systems. </p>
<p >This also initalizes our object variables </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a83b831cdf60672f28d34fbaa634c46ca" name="a83b831cdf60672f28d34fbaa634c46ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83b831cdf60672f28d34fbaa634c46ca">&#9670;&nbsp;</a></span>check_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def positioncontrol.PositionControlTask.check_error </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method checks that our error in units of ticks is within reasonable limit. </p>
<p >If the error is within that reasonable limit, the method returns a flag for the main file to iterate to the next setpoint. </p>

</div>
</div>
<a id="a0314ed60a2a83608cab7fa63e56eb67d" name="a0314ed60a2a83608cab7fa63e56eb67d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0314ed60a2a83608cab7fa63e56eb67d">&#9670;&nbsp;</a></span>position_control()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def positioncontrol.PositionControlTask.position_control </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method used in an external loop from the task scheduler to control the motor and encoder pair for the desired location. </p>
<p >This method updates the encoder position, and calculates the error of system with the difference of the current position to the desired position, this is multiplied by the gain to calculate the duty cycle of the motor each iteration. </p>

</div>
</div>
<a id="a64f18f6c7ace2f2b0c03a1b1689dc8bf" name="a64f18f6c7ace2f2b0c03a1b1689dc8bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64f18f6c7ace2f2b0c03a1b1689dc8bf">&#9670;&nbsp;</a></span>set_gain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def positioncontrol.PositionControlTask.set_gain </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method is used to set the gain of the porportional controller for the position controller. </p>
<p >This gain is multiplied by the error of the posisiton to calculate the duty cycle to send to the motor. </p>

</div>
</div>
<a id="a89ac799f3e03664d1116f5afdf406933" name="a89ac799f3e03664d1116f5afdf406933"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89ac799f3e03664d1116f5afdf406933">&#9670;&nbsp;</a></span>set_point()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def positioncontrol.PositionControlTask.set_point </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method is used to set the desired position of the encoder for the motor to achieve, this is the input to our control system. </p>
<p >It is set up to take this value in units of encoder ticks. Each rotation is 16,000 ticks. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a8cbe2bec76ff5ef56fd929ec523220cd" name="a8cbe2bec76ff5ef56fd929ec523220cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cbe2bec76ff5ef56fd929ec523220cd">&#9670;&nbsp;</a></span>duty</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">positioncontrol.PositionControlTask.duty</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Edit with zeroing function. </p>
<p >Duty is represents the duty cycle being sent to the motor object </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/<a class="el" href="positioncontrol_8py.html">positioncontrol.py</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>positioncontrol</b></li><li class="navelem"><a class="el" href="classpositioncontrol_1_1_position_control_task.html">PositionControlTask</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
