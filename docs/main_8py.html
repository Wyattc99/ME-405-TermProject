<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ME 405 Term Project: src/main.py File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ME 405 Term Project
   </div>
   <div id="projectbrief">Authors: Wyatt Conner, Jameson Spitz, Jacob Wong</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('main_8py.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">main.py File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>The main file of the term project that creates and runs the tasks needed to control the 2 axis drawing robot we created.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8c5c42e99eebf87c410ba2ef56cb46c5"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8py.html#a8c5c42e99eebf87c410ba2ef56cb46c5">main.zero_position</a> ()</td></tr>
<tr class="memdesc:a8c5c42e99eebf87c410ba2ef56cb46c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">When this task is called it will zero the 2 axis drawing robot back to its orgin which is located by 2 limit switches along its radial axis and angular axis.  <a href="main_8py.html#a8c5c42e99eebf87c410ba2ef56cb46c5">More...</a><br /></td></tr>
<tr class="separator:a8c5c42e99eebf87c410ba2ef56cb46c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa39b782aaa80daf56d6216dbb3f81b4c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8py.html#aa39b782aaa80daf56d6216dbb3f81b4c">main.update_pwm_radial</a> ()</td></tr>
<tr class="memdesc:aa39b782aaa80daf56d6216dbb3f81b4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Task which facilitates the motor position control method and records motor 1 data in a queue.  <a href="main_8py.html#aa39b782aaa80daf56d6216dbb3f81b4c">More...</a><br /></td></tr>
<tr class="separator:aa39b782aaa80daf56d6216dbb3f81b4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3de4f518136f66dd155aee71baaf4cc"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8py.html#ae3de4f518136f66dd155aee71baaf4cc">main.update_pwm_theta</a> ()</td></tr>
<tr class="memdesc:ae3de4f518136f66dd155aee71baaf4cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the method that controls the motor along the angular axis of the robot.  <a href="main_8py.html#ae3de4f518136f66dd155aee71baaf4cc">More...</a><br /></td></tr>
<tr class="separator:ae3de4f518136f66dd155aee71baaf4cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f902d8bdc2ee580a2c8ea99002ec0a2"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8py.html#a3f902d8bdc2ee580a2c8ea99002ec0a2">main.get_setpoint_r</a> ()</td></tr>
<tr class="memdesc:a3f902d8bdc2ee580a2c8ea99002ec0a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method is used to control the motor along the radial axis of the robot.  <a href="main_8py.html#a3f902d8bdc2ee580a2c8ea99002ec0a2">More...</a><br /></td></tr>
<tr class="separator:a3f902d8bdc2ee580a2c8ea99002ec0a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af911c5b1e04a12441823b94417f33478"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8py.html#af911c5b1e04a12441823b94417f33478">main.get_setpoint_theta</a> ()</td></tr>
<tr class="memdesc:af911c5b1e04a12441823b94417f33478"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method is used to update the set point of the motor on the theta axis.  <a href="main_8py.html#af911c5b1e04a12441823b94417f33478">More...</a><br /></td></tr>
<tr class="separator:af911c5b1e04a12441823b94417f33478"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a792b2cd0a7c3ee875ec6c984bfc04caf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8py.html#a792b2cd0a7c3ee875ec6c984bfc04caf">main.radial_hpgl</a></td></tr>
<tr class="memdesc:a792b2cd0a7c3ee875ec6c984bfc04caf"><td class="mdescLeft">&#160;</td><td class="mdescRight">This a Queue of encoder tick set points for the radial motor converted from hpgl file.  <a href="main_8py.html#a792b2cd0a7c3ee875ec6c984bfc04caf">More...</a><br /></td></tr>
<tr class="separator:a792b2cd0a7c3ee875ec6c984bfc04caf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05bc70dd1372290068b499526bb24a8b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8py.html#a05bc70dd1372290068b499526bb24a8b">main.theta_hpgl</a></td></tr>
<tr class="memdesc:a05bc70dd1372290068b499526bb24a8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This a Queue of encoder tick set points for the angular motor converted from hpgl file.  <a href="main_8py.html#a05bc70dd1372290068b499526bb24a8b">More...</a><br /></td></tr>
<tr class="separator:a05bc70dd1372290068b499526bb24a8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fa95a56c7d1866fe8182e3c0349a3c2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8py.html#a1fa95a56c7d1866fe8182e3c0349a3c2">main.solenoid_hpgl</a></td></tr>
<tr class="memdesc:a1fa95a56c7d1866fe8182e3c0349a3c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">This creates a queue for the solenoid to instruct when the solenoid should be on or off.  <a href="main_8py.html#a1fa95a56c7d1866fe8182e3c0349a3c2">More...</a><br /></td></tr>
<tr class="separator:a1fa95a56c7d1866fe8182e3c0349a3c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bdd8239eb9e45bd6446c957b7407ad8"><td class="memItemLeft" align="right" valign="top"><a id="a3bdd8239eb9e45bd6446c957b7407ad8" name="a3bdd8239eb9e45bd6446c957b7407ad8"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>main.set_point_r</b> = <a class="el" href="classtask__share_1_1_share.html">task_share.Share</a> ('f', thread_protect = False, name = &quot;Radial Set Point&quot;)</td></tr>
<tr class="memdesc:a3bdd8239eb9e45bd6446c957b7407ad8"><td class="mdescLeft">&#160;</td><td class="mdescRight">This create the share object is to set the radial set point within each task for any given moment. <br /></td></tr>
<tr class="separator:a3bdd8239eb9e45bd6446c957b7407ad8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93e112ad213d483281959a5ec7eb0209"><td class="memItemLeft" align="right" valign="top"><a id="a93e112ad213d483281959a5ec7eb0209" name="a93e112ad213d483281959a5ec7eb0209"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>main.set_point_theta</b> = <a class="el" href="classtask__share_1_1_share.html">task_share.Share</a> ('f', thread_protect = False, name = &quot;Theta Set Point&quot;)</td></tr>
<tr class="memdesc:a93e112ad213d483281959a5ec7eb0209"><td class="mdescLeft">&#160;</td><td class="mdescRight">This creates the share object is to set the theta set point within each task for any given moment. <br /></td></tr>
<tr class="separator:a93e112ad213d483281959a5ec7eb0209"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfcc0bdc6d4340c3b30d5ab7879d42e5"><td class="memItemLeft" align="right" valign="top"><a id="adfcc0bdc6d4340c3b30d5ab7879d42e5" name="adfcc0bdc6d4340c3b30d5ab7879d42e5"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>main.error_r</b> = <a class="el" href="classtask__share_1_1_share.html">task_share.Share</a> ('f', thread_protect = False, name = &quot;Radial Position Error&quot;)</td></tr>
<tr class="memdesc:adfcc0bdc6d4340c3b30d5ab7879d42e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">This share object is the error of the radial encoder from its set point to set duty and determine when it has reached the set point. <br /></td></tr>
<tr class="separator:adfcc0bdc6d4340c3b30d5ab7879d42e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbc96cbb32585a2a7b45db2f187f899a"><td class="memItemLeft" align="right" valign="top"><a id="acbc96cbb32585a2a7b45db2f187f899a" name="acbc96cbb32585a2a7b45db2f187f899a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>main.error_theta</b> = <a class="el" href="classtask__share_1_1_share.html">task_share.Share</a> ('f', thread_protect = False, name = &quot;Theta Position Error&quot;)</td></tr>
<tr class="memdesc:acbc96cbb32585a2a7b45db2f187f899a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This share object is the error of the theta encoder from its set point to set duty and determine when it has reached the set point. <br /></td></tr>
<tr class="separator:acbc96cbb32585a2a7b45db2f187f899a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c69d30da68db8db00dfb6a697ddc127"><td class="memItemLeft" align="right" valign="top"><a id="a1c69d30da68db8db00dfb6a697ddc127" name="a1c69d30da68db8db00dfb6a697ddc127"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>main.limit_flag_A</b> = <a class="el" href="classtask__share_1_1_share.html">task_share.Share</a> ('i', thread_protect = False, name = &quot;Flag for Limit Switch A&quot;)</td></tr>
<tr class="memdesc:a1c69d30da68db8db00dfb6a697ddc127"><td class="mdescLeft">&#160;</td><td class="mdescRight">This create the share object is used to signal when the limit flag on the angular axis is triggered. <br /></td></tr>
<tr class="separator:a1c69d30da68db8db00dfb6a697ddc127"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c3bcfedbb808660d072bc3d176d4528"><td class="memItemLeft" align="right" valign="top"><a id="a7c3bcfedbb808660d072bc3d176d4528" name="a7c3bcfedbb808660d072bc3d176d4528"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>main.limit_flag_B</b> = <a class="el" href="classtask__share_1_1_share.html">task_share.Share</a> ('i', thread_protect = False, name = &quot;Flag for Limit Switch B&quot;)</td></tr>
<tr class="memdesc:a7c3bcfedbb808660d072bc3d176d4528"><td class="mdescLeft">&#160;</td><td class="mdescRight">This create the share object is used to signal when the limit flag on the radial axis is triggered. <br /></td></tr>
<tr class="separator:a7c3bcfedbb808660d072bc3d176d4528"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2f32e4ead1896d432a3195fd841b467"><td class="memItemLeft" align="right" valign="top"><a id="aa2f32e4ead1896d432a3195fd841b467" name="aa2f32e4ead1896d432a3195fd841b467"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>main.flag_zero</b> = <a class="el" href="classtask__share_1_1_share.html">task_share.Share</a> ('i', thread_protect = False, name = &quot;System is zeroed&quot;)</td></tr>
<tr class="memdesc:aa2f32e4ead1896d432a3195fd841b467"><td class="mdescLeft">&#160;</td><td class="mdescRight">This creates the share object to signify once both limit flags are true to represent when the system is at the orgin. <br /></td></tr>
<tr class="separator:aa2f32e4ead1896d432a3195fd841b467"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0cc605966c1f07000f7d109238cc79e"><td class="memItemLeft" align="right" valign="top"><a id="ae0cc605966c1f07000f7d109238cc79e" name="ae0cc605966c1f07000f7d109238cc79e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>main.motor_B</b> = MotorDriver(pyb.Pin.board.PA0, pyb.Pin.board.PA1, pyb.Pin.board.PC1, 5)</td></tr>
<tr class="memdesc:ae0cc605966c1f07000f7d109238cc79e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates the motor object for motor of the radial direction. <br /></td></tr>
<tr class="separator:ae0cc605966c1f07000f7d109238cc79e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9caf8df93f9b0facfd3c7b6d7db99e6"><td class="memItemLeft" align="right" valign="top"><a id="aa9caf8df93f9b0facfd3c7b6d7db99e6" name="aa9caf8df93f9b0facfd3c7b6d7db99e6"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>main.motor_A</b> = MotorDriver(pyb.Pin.board.PB5, pyb.Pin.board.PB4, pyb.Pin.board.PA10, 3)</td></tr>
<tr class="memdesc:aa9caf8df93f9b0facfd3c7b6d7db99e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates the motor object for motor of the angualr direction. <br /></td></tr>
<tr class="separator:aa9caf8df93f9b0facfd3c7b6d7db99e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04b82945ad36e3738881bfd59335f7b2"><td class="memItemLeft" align="right" valign="top"><a id="a04b82945ad36e3738881bfd59335f7b2" name="a04b82945ad36e3738881bfd59335f7b2"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>main.enc_B</b> = EncoderDriver(pyb.Pin.board.PC6, pyb.Pin.board.PC7, 8)</td></tr>
<tr class="memdesc:a04b82945ad36e3738881bfd59335f7b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates the encoder object for encoder of the radial radial direction. <br /></td></tr>
<tr class="separator:a04b82945ad36e3738881bfd59335f7b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3451a1c7933a4f55db28de3849103843"><td class="memItemLeft" align="right" valign="top"><a id="a3451a1c7933a4f55db28de3849103843" name="a3451a1c7933a4f55db28de3849103843"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>main.enc_A</b> = EncoderDriver(pyb.Pin.board.PB6, pyb.Pin.board.PB7, 4)</td></tr>
<tr class="memdesc:a3451a1c7933a4f55db28de3849103843"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates the encoder object for encoder of the angualr direction. <br /></td></tr>
<tr class="separator:a3451a1c7933a4f55db28de3849103843"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adee4b1cf0a54d258cc64d9b8b59c772d"><td class="memItemLeft" align="right" valign="top"><a id="adee4b1cf0a54d258cc64d9b8b59c772d" name="adee4b1cf0a54d258cc64d9b8b59c772d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>main.control_theta</b> = PositionControlTask(motor_A, enc_A, error_theta, set_point_theta, .006)</td></tr>
<tr class="memdesc:adee4b1cf0a54d258cc64d9b8b59c772d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create the position control the position of the motor along the angualr axis. <br /></td></tr>
<tr class="separator:adee4b1cf0a54d258cc64d9b8b59c772d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c426e8a675d4df8007af02dd54d028b"><td class="memItemLeft" align="right" valign="top"><a id="a5c426e8a675d4df8007af02dd54d028b" name="a5c426e8a675d4df8007af02dd54d028b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>main.control_radial</b> = PositionControlTask(motor_B, enc_B, error_r, set_point_r, .025)</td></tr>
<tr class="memdesc:a5c426e8a675d4df8007af02dd54d028b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates the position control the position of the motor along the radial axis. <br /></td></tr>
<tr class="separator:a5c426e8a675d4df8007af02dd54d028b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a210e48f8afbde3180450c8d8158f2a87"><td class="memItemLeft" align="right" valign="top"><a id="a210e48f8afbde3180450c8d8158f2a87" name="a210e48f8afbde3180450c8d8158f2a87"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>main.limit_A</b> = Limit_Switch(pyb.Pin.board.PC2)</td></tr>
<tr class="memdesc:a210e48f8afbde3180450c8d8158f2a87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creaates the limit switch object to interact with the hardware of the switch on the angualr axis. <br /></td></tr>
<tr class="separator:a210e48f8afbde3180450c8d8158f2a87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97208eeb0db96e1c48a75f824e819c5c"><td class="memItemLeft" align="right" valign="top"><a id="a97208eeb0db96e1c48a75f824e819c5c" name="a97208eeb0db96e1c48a75f824e819c5c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>main.limit_B</b> = Limit_Switch(pyb.Pin.board.PB0)</td></tr>
<tr class="memdesc:a97208eeb0db96e1c48a75f824e819c5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates the limit switch object to interact with the hardware of the switch on the radial axis. <br /></td></tr>
<tr class="separator:a97208eeb0db96e1c48a75f824e819c5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1beb6f8229834f2d9e17ba2c257e6ee"><td class="memItemLeft" align="right" valign="top"><a id="ae1beb6f8229834f2d9e17ba2c257e6ee" name="ae1beb6f8229834f2d9e17ba2c257e6ee"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>main.my_sol</b> = Solenoid(pyb.Pin.board.PC4)</td></tr>
<tr class="memdesc:ae1beb6f8229834f2d9e17ba2c257e6ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create the solenoid object to interact with the circuit connected to the solenoid to make it turn on and off. <br /></td></tr>
<tr class="separator:ae1beb6f8229834f2d9e17ba2c257e6ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e206c5506ad75dd758581573d3240aa"><td class="memItemLeft" align="right" valign="top"><a id="a8e206c5506ad75dd758581573d3240aa" name="a8e206c5506ad75dd758581573d3240aa"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>main.my_hpgl</b> = <a class="el" href="classread__plotter_1_1_hpgl.html">read_plotter.Hpgl</a>(radial_hpgl, theta_hpgl, solenoid_hpgl, 85, 195)</td></tr>
<tr class="memdesc:a8e206c5506ad75dd758581573d3240aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">THis create the object of the read_plotter file to send it the raw data of the hpgl to be converted to our radial and angualr set points we need. <br /></td></tr>
<tr class="separator:a8e206c5506ad75dd758581573d3240aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d567b697ff9dff4414aacf5c1b4bdac"><td class="memItemLeft" align="right" valign="top"><a id="a3d567b697ff9dff4414aacf5c1b4bdac" name="a3d567b697ff9dff4414aacf5c1b4bdac"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>main.origin</b> = my_hpgl.convert_point(210,297)</td></tr>
<tr class="memdesc:a3d567b697ff9dff4414aacf5c1b4bdac"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the numerical value of our orgin of our system as it offset from the center of rotation, this value is measured in millimeters. <br /></td></tr>
<tr class="separator:a3d567b697ff9dff4414aacf5c1b4bdac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2266ab48a9f44c14c34860a2ecff33de"><td class="memItemLeft" align="right" valign="top"><a id="a2266ab48a9f44c14c34860a2ecff33de" name="a2266ab48a9f44c14c34860a2ecff33de"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>main.flag_theta</b> = <a class="el" href="classtask__share_1_1_share.html">task_share.Share</a> ('i', thread_protect = False, name = &quot;Flag Theta Set is reached&quot;)</td></tr>
<tr class="memdesc:a2266ab48a9f44c14c34860a2ecff33de"><td class="mdescLeft">&#160;</td><td class="mdescRight">This creates a flag that is a share object of when the set point is reached along the angualr axis. <br /></td></tr>
<tr class="separator:a2266ab48a9f44c14c34860a2ecff33de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fcc02d7982f5d12c2c7cf1610140057"><td class="memItemLeft" align="right" valign="top"><a id="a2fcc02d7982f5d12c2c7cf1610140057" name="a2fcc02d7982f5d12c2c7cf1610140057"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>main.flag_radial</b> = <a class="el" href="classtask__share_1_1_share.html">task_share.Share</a> ('i', thread_protect = False, name = &quot;Flag Radial Set is reached&quot;)</td></tr>
<tr class="memdesc:a2fcc02d7982f5d12c2c7cf1610140057"><td class="mdescLeft">&#160;</td><td class="mdescRight">This creats a flag that is a share object of when the set point is reached along the radial axis. <br /></td></tr>
<tr class="separator:a2fcc02d7982f5d12c2c7cf1610140057"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4b8f4290f8d32e70654f6deb864787f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8py.html#af4b8f4290f8d32e70654f6deb864787f">main.task1</a></td></tr>
<tr class="memdesc:af4b8f4290f8d32e70654f6deb864787f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Task 1 used to operate motor 1 function task.  <a href="main_8py.html#af4b8f4290f8d32e70654f6deb864787f">More...</a><br /></td></tr>
<tr class="separator:af4b8f4290f8d32e70654f6deb864787f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99d189b8f9eb3784cf7d4e5c3241b562"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8py.html#a99d189b8f9eb3784cf7d4e5c3241b562">main.task2</a></td></tr>
<tr class="memdesc:a99d189b8f9eb3784cf7d4e5c3241b562"><td class="mdescLeft">&#160;</td><td class="mdescRight">Task 2 used to operate motor 2 function task.  <a href="main_8py.html#a99d189b8f9eb3784cf7d4e5c3241b562">More...</a><br /></td></tr>
<tr class="separator:a99d189b8f9eb3784cf7d4e5c3241b562"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a120516a5d42c212c898d4616d266077a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8py.html#a120516a5d42c212c898d4616d266077a">main.task3</a></td></tr>
<tr class="memdesc:a120516a5d42c212c898d4616d266077a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Task 2 used to operate motor 2 function task.  <a href="main_8py.html#a120516a5d42c212c898d4616d266077a">More...</a><br /></td></tr>
<tr class="separator:a120516a5d42c212c898d4616d266077a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0ee3c5b5359f76becfe27534e82085f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8py.html#ac0ee3c5b5359f76becfe27534e82085f">main.task4</a></td></tr>
<tr class="memdesc:ac0ee3c5b5359f76becfe27534e82085f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Task 2 used to operate motor 2 function task.  <a href="main_8py.html#ac0ee3c5b5359f76becfe27534e82085f">More...</a><br /></td></tr>
<tr class="separator:ac0ee3c5b5359f76becfe27534e82085f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11ec9e490c402876467b9fdadecc93e8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8py.html#a11ec9e490c402876467b9fdadecc93e8">main.task5</a></td></tr>
<tr class="memdesc:a11ec9e490c402876467b9fdadecc93e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Task 2 used to operate motor 2 function task.  <a href="main_8py.html#a11ec9e490c402876467b9fdadecc93e8">More...</a><br /></td></tr>
<tr class="separator:a11ec9e490c402876467b9fdadecc93e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >The main file of the term project that creates and runs the tasks needed to control the 2 axis drawing robot we created. </p>
<p >To do this we create each task as a method that interacts with the firmware, and these tasks are then ran using cotask. </p><dl class="section author"><dt>Author</dt><dd>Wyatt Conner </dd>
<dd>
Jacob Wong </dd>
<dd>
Jameson Spitz </dd></dl>
<dl class="section date"><dt>Date</dt><dd>5-Mar-22 </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>by Jameson Spitz all rights reserved </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a3f902d8bdc2ee580a2c8ea99002ec0a2" name="a3f902d8bdc2ee580a2c8ea99002ec0a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f902d8bdc2ee580a2c8ea99002ec0a2">&#9670;&nbsp;</a></span>get_setpoint_r()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def main.get_setpoint_r </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method is used to control the motor along the radial axis of the robot. </p>
<p >The way this is done is that the set point is given from our read plotter file. We then conduct a position control for this set point and once the motor is within a window of error that is acceptable the motor will turn off and set a flag that it has meet it's set point. Once both motors have meet their set points they will then update to a new setpoint and do the entire process again. </p>

</div>
</div>
<a id="af911c5b1e04a12441823b94417f33478" name="af911c5b1e04a12441823b94417f33478"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af911c5b1e04a12441823b94417f33478">&#9670;&nbsp;</a></span>get_setpoint_theta()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def main.get_setpoint_theta </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method is used to update the set point of the motor on the theta axis. </p>
<p >If both motors have reached their setpoints this method will update the setpoint of the theta motor. The set point data is provided from the read plotter file. </p>

</div>
</div>
<a id="aa39b782aaa80daf56d6216dbb3f81b4c" name="aa39b782aaa80daf56d6216dbb3f81b4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa39b782aaa80daf56d6216dbb3f81b4c">&#9670;&nbsp;</a></span>update_pwm_radial()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def main.update_pwm_radial </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Task which facilitates the motor position control method and records motor 1 data in a queue. </p>
<p >The task then prints the data which is controlled by a generator. </p>

</div>
</div>
<a id="ae3de4f518136f66dd155aee71baaf4cc" name="ae3de4f518136f66dd155aee71baaf4cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3de4f518136f66dd155aee71baaf4cc">&#9670;&nbsp;</a></span>update_pwm_theta()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def main.update_pwm_theta </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is the method that controls the motor along the angular axis of the robot. </p>
<p >This is done by updating the set point for the motor once each motor as reached their previous set points. Then conduct position control on the motor until it hits its new set point, then turn off the motor and wait for the radial axis to hit its set point. </p>

</div>
</div>
<a id="a8c5c42e99eebf87c410ba2ef56cb46c5" name="a8c5c42e99eebf87c410ba2ef56cb46c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c5c42e99eebf87c410ba2ef56cb46c5">&#9670;&nbsp;</a></span>zero_position()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def main.zero_position </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>When this task is called it will zero the 2 axis drawing robot back to its orgin which is located by 2 limit switches along its radial axis and angular axis. </p>
<p >Once each limit switch has been touched the method will terminate and turn off each motor. </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a792b2cd0a7c3ee875ec6c984bfc04caf" name="a792b2cd0a7c3ee875ec6c984bfc04caf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a792b2cd0a7c3ee875ec6c984bfc04caf">&#9670;&nbsp;</a></span>radial_hpgl</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">main.radial_hpgl</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span>=  <a class="code hl_class" href="classtask__share_1_1_queue.html">task_share.Queue</a>(<span class="stringliteral">&#39;f&#39;</span>, size = 250, thread_protect = <span class="keyword">False</span>,</div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span>                                      overwrite = <span class="keyword">False</span>, name = 1)</div>
<div class="ttc" id="aclasstask__share_1_1_queue_html"><div class="ttname"><a href="classtask__share_1_1_queue.html">task_share.Queue</a></div><div class="ttdoc">A queue which is used to transfer data from one task to another.</div><div class="ttdef"><b>Definition:</b> task_share.py:68</div></div>
</div><!-- fragment -->
<p>This a Queue of encoder tick set points for the radial motor converted from hpgl file. </p>

</div>
</div>
<a id="a1fa95a56c7d1866fe8182e3c0349a3c2" name="a1fa95a56c7d1866fe8182e3c0349a3c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fa95a56c7d1866fe8182e3c0349a3c2">&#9670;&nbsp;</a></span>solenoid_hpgl</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">main.solenoid_hpgl</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span>=  <a class="code hl_class" href="classtask__share_1_1_queue.html">task_share.Queue</a>(<span class="stringliteral">&#39;f&#39;</span>, size = 250, thread_protect = <span class="keyword">False</span>,</div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span>                                      overwrite = <span class="keyword">False</span>, name = 2)</div>
</div><!-- fragment -->
<p>This creates a queue for the solenoid to instruct when the solenoid should be on or off. </p>

</div>
</div>
<a id="af4b8f4290f8d32e70654f6deb864787f" name="af4b8f4290f8d32e70654f6deb864787f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4b8f4290f8d32e70654f6deb864787f">&#9670;&nbsp;</a></span>task1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">main.task1</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span>=  <a class="code hl_class" href="classcotask_1_1_task.html">cotask.Task</a> (update_pwm_radial, name = <span class="stringliteral">&#39;Radial Position Control&#39;</span>, priority = 1, </div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span>                             period = 10, profile = <span class="keyword">True</span>, trace = <span class="keyword">False</span>)</div>
<div class="ttc" id="aclasscotask_1_1_task_html"><div class="ttname"><a href="classcotask_1_1_task.html">cotask.Task</a></div><div class="ttdoc">Implements multitasking with scheduling and some performance logging.</div><div class="ttdef"><b>Definition:</b> cotask.py:24</div></div>
</div><!-- fragment -->
<p>Task 1 used to operate motor 1 function task. </p>

</div>
</div>
<a id="a99d189b8f9eb3784cf7d4e5c3241b562" name="a99d189b8f9eb3784cf7d4e5c3241b562"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99d189b8f9eb3784cf7d4e5c3241b562">&#9670;&nbsp;</a></span>task2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">main.task2</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span>=  <a class="code hl_class" href="classcotask_1_1_task.html">cotask.Task</a> (update_pwm_theta, name = <span class="stringliteral">&#39;Theta Position Control&#39;</span>, priority = 1, </div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span>                             period = 10, profile = <span class="keyword">True</span>, trace = <span class="keyword">False</span>)</div>
</div><!-- fragment -->
<p>Task 2 used to operate motor 2 function task. </p>

</div>
</div>
<a id="a120516a5d42c212c898d4616d266077a" name="a120516a5d42c212c898d4616d266077a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a120516a5d42c212c898d4616d266077a">&#9670;&nbsp;</a></span>task3</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">main.task3</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span>=  <a class="code hl_class" href="classcotask_1_1_task.html">cotask.Task</a> (get_setpoint_r, name = <span class="stringliteral">&#39;Radial Set Point Control&#39;</span>, priority = 1, </div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span>                             period = 10, profile = <span class="keyword">True</span>, trace = <span class="keyword">False</span>)</div>
</div><!-- fragment -->
<p>Task 2 used to operate motor 2 function task. </p>

</div>
</div>
<a id="ac0ee3c5b5359f76becfe27534e82085f" name="ac0ee3c5b5359f76becfe27534e82085f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0ee3c5b5359f76becfe27534e82085f">&#9670;&nbsp;</a></span>task4</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">main.task4</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span>=  <a class="code hl_class" href="classcotask_1_1_task.html">cotask.Task</a> (get_setpoint_theta, name = <span class="stringliteral">&#39;Theta Set Point Control&#39;</span>, priority = 1, </div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span>                             period = 10, profile = <span class="keyword">True</span>, trace = <span class="keyword">False</span>)</div>
</div><!-- fragment -->
<p>Task 2 used to operate motor 2 function task. </p>

</div>
</div>
<a id="a11ec9e490c402876467b9fdadecc93e8" name="a11ec9e490c402876467b9fdadecc93e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11ec9e490c402876467b9fdadecc93e8">&#9670;&nbsp;</a></span>task5</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">main.task5</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span>=  <a class="code hl_class" href="classcotask_1_1_task.html">cotask.Task</a> (zero_position, name = <span class="stringliteral">&#39;Zero Position&#39;</span>, priority = 1, </div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span>                             period = 10, profile = <span class="keyword">True</span>, trace = <span class="keyword">False</span>)</div>
</div><!-- fragment -->
<p>Task 2 used to operate motor 2 function task. </p>

</div>
</div>
<a id="a05bc70dd1372290068b499526bb24a8b" name="a05bc70dd1372290068b499526bb24a8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05bc70dd1372290068b499526bb24a8b">&#9670;&nbsp;</a></span>theta_hpgl</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">main.theta_hpgl</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span>=  <a class="code hl_class" href="classtask__share_1_1_queue.html">task_share.Queue</a>(<span class="stringliteral">&#39;f&#39;</span>, size = 250, thread_protect = <span class="keyword">False</span>,</div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span>                                      overwrite = <span class="keyword">False</span>, name = 2)</div>
</div><!-- fragment -->
<p>This a Queue of encoder tick set points for the angular motor converted from hpgl file. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="main_8py.html">main.py</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
